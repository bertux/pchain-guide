

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Sync and Run Child Chain &mdash; PCHAIN Documents PCHAIN documentation</title>
  

  
  
  
  

  
  <script type="text/javascript" src="../_static/js/modernizr.min.js"></script>
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
        <script type="text/javascript" src="../_static/jquery.js"></script>
        <script type="text/javascript" src="../_static/underscore.js"></script>
        <script type="text/javascript" src="../_static/doctools.js"></script>
        <script type="text/javascript" src="../_static/language_data.js"></script>
    
    <script type="text/javascript" src="../_static/js/theme.js"></script>

    

  
  <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Create Your Account" href="createyouraccount.html" />
    <link rel="prev" title="Sync and Run Mainnet" href="syncandrunmainnet.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../index.html" class="icon icon-home"> PCHAIN Documents
          

          
          </a>

          
            
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption"><span class="caption-text">Contents:</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../introduction/introduction.html">Introduction</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="pchainclient.html">Pchain Client</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="installation.html">Installation</a></li>
<li class="toctree-l2"><a class="reference internal" href="syncandrunmainnet.html">Sync and Run Mainnet</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">Sync and Run Child Chain</a></li>
<li class="toctree-l2"><a class="reference internal" href="createyouraccount.html">Create Your Account</a></li>
<li class="toctree-l2"><a class="reference internal" href="howtobecomevalidator.html">How to Become Validator</a></li>
<li class="toctree-l2"><a class="reference internal" href="howtoapplycandidates.html">How to Apply Candidates</a></li>
<li class="toctree-l2"><a class="reference internal" href="howtodelegate.html">How to Delegate</a></li>
<li class="toctree-l2"><a class="reference internal" href="whatisfullbalance.html">What is FullBalance</a></li>
<li class="toctree-l2"><a class="reference internal" href="syncandruntestnet.html">Sync and Run Testnet</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../developer/overview.html">Developer</a></li>
<li class="toctree-l1"><a class="reference internal" href="../wallet/GettingStart.html">PIWallet</a></li>
<li class="toctree-l1"><a class="reference internal" href="../PMetamask/pmetamask.html">PMatemask</a></li>
<li class="toctree-l1"><a class="reference internal" href="../Q&amp;A/q&amp;a.html">Q&amp;A</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">PCHAIN Documents</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../index.html">Docs</a> &raquo;</li>
        
          <li><a href="pchainclient.html">Pchain Client</a> &raquo;</li>
        
      <li>Sync and Run Child Chain</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="../_sources/pchainclient/syncandrunchildchain.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="sync-and-run-child-chain">
<h1>Sync and Run Child Chain<a class="headerlink" href="#sync-and-run-child-chain" title="Permalink to this headline">¶</a></h1>
<p>Pchain have one child chain now and you can join to mining, the process is same with join the main chain’s validators. But at first you need to sync and run child chain.</p>
<p>Before you start to sync child chain, make sure you have install pchain and sync main chain.</p>
<p>First, you need to get child chain’s <a class="reference external" href="https://github.com/pchain-org/pchain/releases/download/v1.0.01/child_0_config.tar.gz">config file</a>. There are three files in it :</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>ubuntu@ip-172-31-12-155:~/child_0_config$ ls
eth_genesis.json  genesis.json  run.sh
</pre></div>
</div>
<p>The two json file should copy to yourdatadir/.pchain/child_0/, you need to make the directory child_0 yourself.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">mkdir</span> <span class="o">-</span><span class="n">p</span> <span class="n">yourdatadir</span><span class="o">/.</span><span class="n">pchain</span><span class="o">/</span><span class="n">child_0</span><span class="o">/</span>
<span class="n">cp</span> <span class="o">~/</span><span class="n">child_0_config</span><span class="o">/*.</span><span class="n">json</span> <span class="n">yourdatadir</span><span class="o">/.</span><span class="n">pchain</span><span class="o">/</span><span class="n">child_0</span><span class="o">/</span>
</pre></div>
</div>
<p>Then you need to initialize child chain</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">pchain</span> <span class="o">--</span><span class="n">datadir</span><span class="o">=</span><span class="n">yourdatadir</span> <span class="n">init</span> <span class="n">yourdatadir</span><span class="o">/</span><span class="n">child_0</span><span class="o">/</span><span class="n">eth_genesis</span><span class="o">.</span><span class="n">json</span> <span class="n">child_0</span>
</pre></div>
</div>
<p>You will see some output look like this:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">INFO</span> <span class="p">[</span><span class="mi">05</span><span class="o">-</span><span class="mi">23</span><span class="o">|</span><span class="mi">10</span><span class="p">:</span><span class="mi">12</span><span class="p">:</span><span class="mf">51.743</span><span class="p">]</span> <span class="n">init_eth_blockchain</span> <span class="mi">0</span> <span class="k">with</span> <span class="n">dbPath</span><span class="p">:</span> <span class="o">.</span><span class="n">pchain</span><span class="o">/</span><span class="n">child_0</span><span class="o">/</span><span class="n">geth</span><span class="o">/</span><span class="n">chaindata</span>
<span class="n">INFO</span> <span class="p">[</span><span class="mi">05</span><span class="o">-</span><span class="mi">23</span><span class="o">|</span><span class="mi">10</span><span class="p">:</span><span class="mi">12</span><span class="p">:</span><span class="mf">51.743</span><span class="p">]</span> <span class="n">Allocated</span> <span class="n">cache</span> <span class="ow">and</span> <span class="n">file</span> <span class="n">handles</span>         <span class="n">database</span><span class="o">=.</span><span class="n">pchain</span><span class="o">/</span><span class="n">child_0</span><span class="o">/</span><span class="n">geth</span><span class="o">/</span><span class="n">chaindata</span> <span class="n">cache</span><span class="o">=</span><span class="mi">16</span> <span class="n">handles</span><span class="o">=</span><span class="mi">16</span>
<span class="n">INFO</span> <span class="p">[</span><span class="mi">05</span><span class="o">-</span><span class="mi">23</span><span class="o">|</span><span class="mi">10</span><span class="p">:</span><span class="mi">12</span><span class="p">:</span><span class="mf">51.748</span><span class="p">]</span> <span class="n">init_eth_blockchain</span> <span class="mi">1</span>
<span class="n">INFO</span> <span class="p">[</span><span class="mi">05</span><span class="o">-</span><span class="mi">23</span><span class="o">|</span><span class="mi">10</span><span class="p">:</span><span class="mi">12</span><span class="p">:</span><span class="mf">51.748</span><span class="p">]</span> <span class="n">init_eth_blockchain</span> <span class="mi">2</span>
<span class="n">INFO</span> <span class="p">[</span><span class="mi">05</span><span class="o">-</span><span class="mi">23</span><span class="o">|</span><span class="mi">10</span><span class="p">:</span><span class="mi">12</span><span class="p">:</span><span class="mf">51.748</span><span class="p">]</span> <span class="n">Writing</span> <span class="n">custom</span> <span class="n">genesis</span> <span class="n">block</span>
<span class="n">INFO</span> <span class="p">[</span><span class="mi">05</span><span class="o">-</span><span class="mi">23</span><span class="o">|</span><span class="mi">10</span><span class="p">:</span><span class="mi">12</span><span class="p">:</span><span class="mf">51.749</span><span class="p">]</span> <span class="n">Persisted</span> <span class="n">trie</span> <span class="kn">from</span> <span class="nn">memory</span> <span class="n">database</span>      <span class="n">nodes</span><span class="o">=</span><span class="mi">8</span> <span class="n">size</span><span class="o">=</span><span class="mf">2.68</span><span class="n">kB</span> <span class="n">time</span><span class="o">=</span><span class="mf">54.136</span><span class="n">µs</span> <span class="n">gcnodes</span><span class="o">=</span><span class="mi">0</span> <span class="n">gcsize</span><span class="o">=</span><span class="mf">0.00</span><span class="n">B</span> <span class="n">gctime</span><span class="o">=</span><span class="mi">0</span><span class="n">s</span> <span class="n">livenodes</span><span class="o">=</span><span class="mi">1</span> <span class="n">livesize</span><span class="o">=</span><span class="mf">0.00</span><span class="n">B</span>
<span class="n">INFO</span> <span class="p">[</span><span class="mi">05</span><span class="o">-</span><span class="mi">23</span><span class="o">|</span><span class="mi">10</span><span class="p">:</span><span class="mi">12</span><span class="p">:</span><span class="mf">51.749</span><span class="p">]</span> <span class="n">init_eth_blockchain</span> <span class="n">end</span>
<span class="n">INFO</span> <span class="p">[</span><span class="mi">05</span><span class="o">-</span><span class="mi">23</span><span class="o">|</span><span class="mi">10</span><span class="p">:</span><span class="mi">12</span><span class="p">:</span><span class="mf">51.749</span><span class="p">]</span> <span class="n">successfully</span> <span class="n">wrote</span> <span class="n">genesis</span> <span class="n">block</span> <span class="ow">and</span><span class="o">/</span><span class="ow">or</span> <span class="n">chain</span> <span class="n">rule</span> <span class="nb">set</span><span class="p">:</span> <span class="mi">0</span><span class="n">bb3cd96500c814d39901c120ec2a78385781a58ce5bd6ed1a272b4ee5cb8435</span>
<span class="n">INFO</span> <span class="p">[</span><span class="mi">05</span><span class="o">-</span><span class="mi">23</span><span class="o">|</span><span class="mi">10</span><span class="p">:</span><span class="mi">12</span><span class="p">:</span><span class="mf">51.749</span><span class="p">]</span> <span class="n">Database</span> <span class="n">closed</span>                          <span class="n">database</span><span class="o">=.</span><span class="n">pchain</span><span class="o">/</span><span class="n">child_0</span><span class="o">/</span><span class="n">geth</span><span class="o">/</span><span class="n">chaindata</span>
<span class="n">INFO</span> <span class="p">[</span><span class="mi">05</span><span class="o">-</span><span class="mi">23</span><span class="o">|</span><span class="mi">10</span><span class="p">:</span><span class="mi">12</span><span class="p">:</span><span class="mf">51.750</span><span class="p">]</span> <span class="n">priv_validator_file</span> <span class="ow">not</span> <span class="n">exist</span><span class="p">,</span> <span class="n">probably</span> <span class="n">you</span> <span class="n">are</span> <span class="n">running</span> <span class="ow">in</span> <span class="n">non</span><span class="o">-</span><span class="n">mining</span> <span class="n">mode</span>
</pre></div>
</div>
<p>After this you should restart pchain and run pchain with flag –childChain=child_0 to sync child chain.</p>
<p>Now please check your datadir’s structure:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">datadir</span><span class="o">/</span>
        <span class="o">-</span><span class="n">chaininfo</span><span class="o">.</span><span class="n">db</span><span class="o">/</span>
        <span class="o">-</span><span class="n">config</span><span class="o">.</span><span class="n">toml</span>
        <span class="o">-</span><span class="n">nodekey</span>
        <span class="o">-</span><span class="n">nodes</span><span class="o">/</span>
        <span class="o">-</span><span class="n">tx3cache</span><span class="o">/</span>
        <span class="o">-</span><span class="n">pchain</span><span class="o">/</span>
                <span class="o">-</span><span class="n">data</span><span class="o">/</span>
                <span class="o">-</span><span class="n">geth</span><span class="o">/</span>
                <span class="o">-</span><span class="n">pchain</span><span class="o">.</span><span class="n">ipc</span>
                <span class="o">-</span><span class="n">priv_validator</span><span class="o">.</span><span class="n">json</span> <span class="o">//</span><span class="n">you</span> <span class="n">may</span> <span class="ow">not</span> <span class="n">have</span> <span class="n">this</span> <span class="n">file</span> <span class="n">now</span>
                <span class="o">-</span><span class="n">keystore</span><span class="o">/</span>
        <span class="o">-</span><span class="n">child_0</span><span class="o">/</span>
                <span class="o">-</span><span class="n">data</span><span class="o">/</span>
                <span class="o">-</span><span class="n">geth</span><span class="o">/</span>
                <span class="o">-</span><span class="n">pchain</span><span class="o">.</span><span class="n">ipc</span>
                <span class="o">-</span><span class="n">priv_validator</span><span class="o">.</span><span class="n">json</span> <span class="o">//</span><span class="n">you</span> <span class="n">may</span> <span class="ow">not</span> <span class="n">have</span> <span class="n">this</span> <span class="n">file</span> <span class="n">now</span>
                <span class="o">-</span><span class="n">keystore</span><span class="o">/</span>
</pre></div>
</div>
</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="createyouraccount.html" class="btn btn-neutral float-right" title="Create Your Account" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="syncandrunmainnet.html" class="btn btn-neutral float-left" title="Sync and Run Mainnet" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2019, PCHAIN

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>